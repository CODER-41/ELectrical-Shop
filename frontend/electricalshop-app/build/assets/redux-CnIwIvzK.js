function dr(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function pr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ne={exports:{}},b={};var it;function yr(){if(it)return b;it=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),u=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),w=Symbol.iterator;function p(s){return s===null||typeof s!="object"?null:(s=w&&s[w]||s["@@iterator"],typeof s=="function"?s:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,T={};function v(s,f,C){this.props=s,this.context=f,this.refs=T,this.updater=C||y}v.prototype.isReactComponent={},v.prototype.setState=function(s,f){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,f,"setState")},v.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function O(){}O.prototype=v.prototype;function m(s,f,C){this.props=s,this.context=f,this.refs=T,this.updater=C||y}var E=m.prototype=new O;E.constructor=m,R(E,v.prototype),E.isPureReactComponent=!0;var g=Array.isArray;function A(){}var _={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function K(s,f,C){var S=C.ref;return{$$typeof:e,type:s,key:f,ref:S!==void 0?S:null,props:C}}function Me(s,f){return K(s.type,f,s.props)}function Z(s){return typeof s=="object"&&s!==null&&s.$$typeof===e}function ur(s){var f={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(C){return f[C]})}var nt=/\/+/g;function xe(s,f){return typeof s=="object"&&s!==null&&s.key!=null?ur(""+s.key):f.toString(36)}function cr(s){switch(s.status){case"fulfilled":return s.value;case"rejected":throw s.reason;default:switch(typeof s.status=="string"?s.then(A,A):(s.status="pending",s.then(function(f){s.status==="pending"&&(s.status="fulfilled",s.value=f)},function(f){s.status==="pending"&&(s.status="rejected",s.reason=f)})),s.status){case"fulfilled":return s.value;case"rejected":throw s.reason}}throw s}function G(s,f,C,S,P){var k=typeof s;(k==="undefined"||k==="boolean")&&(s=null);var M=!1;if(s===null)M=!0;else switch(k){case"bigint":case"string":case"number":M=!0;break;case"object":switch(s.$$typeof){case e:case t:M=!0;break;case l:return M=s._init,G(M(s._payload),f,C,S,P)}}if(M)return P=P(s),M=S===""?"."+xe(s,0):S,g(P)?(C="",M!=null&&(C=M.replace(nt,"$&/")+"/"),G(P,f,C,"",function(lr){return lr})):P!=null&&(Z(P)&&(P=Me(P,C+(P.key==null||s&&s.key===P.key?"":(""+P.key).replace(nt,"$&/")+"/")+M)),f.push(P)),1;M=0;var U=S===""?".":S+":";if(g(s))for(var D=0;D<s.length;D++)S=s[D],k=U+xe(S,D),M+=G(S,f,C,k,P);else if(D=p(s),typeof D=="function")for(s=D.call(s),D=0;!(S=s.next()).done;)S=S.value,k=U+xe(S,D++),M+=G(S,f,C,k,P);else if(k==="object"){if(typeof s.then=="function")return G(cr(s),f,C,S,P);throw f=String(s),Error("Objects are not valid as a React child (found: "+(f==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":f)+"). If you meant to render a collection of children, use an array instead.")}return M}function ie(s,f,C){if(s==null)return s;var S=[],P=0;return G(s,S,"","",function(k){return f.call(C,k,P++)}),S}function ar(s){if(s._status===-1){var f=s._result;f=f(),f.then(function(C){(s._status===0||s._status===-1)&&(s._status=1,s._result=C)},function(C){(s._status===0||s._status===-1)&&(s._status=2,s._result=C)}),s._status===-1&&(s._status=0,s._result=f)}if(s._status===1)return s._result.default;throw s._result}var ot=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},fr={map:ie,forEach:function(s,f,C){ie(s,function(){f.apply(this,arguments)},C)},count:function(s){var f=0;return ie(s,function(){f++}),f},toArray:function(s){return ie(s,function(f){return f})||[]},only:function(s){if(!Z(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};return b.Activity=h,b.Children=fr,b.Component=v,b.Fragment=r,b.Profiler=o,b.PureComponent=m,b.StrictMode=n,b.Suspense=c,b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,b.__COMPILER_RUNTIME={__proto__:null,c:function(s){return _.H.useMemoCache(s)}},b.cache=function(s){return function(){return s.apply(null,arguments)}},b.cacheSignal=function(){return null},b.cloneElement=function(s,f,C){if(s==null)throw Error("The argument must be a React element, but you passed "+s+".");var S=R({},s.props),P=s.key;if(f!=null)for(k in f.key!==void 0&&(P=""+f.key),f)!x.call(f,k)||k==="key"||k==="__self"||k==="__source"||k==="ref"&&f.ref===void 0||(S[k]=f[k]);var k=arguments.length-2;if(k===1)S.children=C;else if(1<k){for(var M=Array(k),U=0;U<k;U++)M[U]=arguments[U+2];S.children=M}return K(s.type,P,S)},b.createContext=function(s){return s={$$typeof:u,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null},s.Provider=s,s.Consumer={$$typeof:i,_context:s},s},b.createElement=function(s,f,C){var S,P={},k=null;if(f!=null)for(S in f.key!==void 0&&(k=""+f.key),f)x.call(f,S)&&S!=="key"&&S!=="__self"&&S!=="__source"&&(P[S]=f[S]);var M=arguments.length-2;if(M===1)P.children=C;else if(1<M){for(var U=Array(M),D=0;D<M;D++)U[D]=arguments[D+2];P.children=U}if(s&&s.defaultProps)for(S in M=s.defaultProps,M)P[S]===void 0&&(P[S]=M[S]);return K(s,k,P)},b.createRef=function(){return{current:null}},b.forwardRef=function(s){return{$$typeof:a,render:s}},b.isValidElement=Z,b.lazy=function(s){return{$$typeof:l,_payload:{_status:-1,_result:s},_init:ar}},b.memo=function(s,f){return{$$typeof:d,type:s,compare:f===void 0?null:f}},b.startTransition=function(s){var f=_.T,C={};_.T=C;try{var S=s(),P=_.S;P!==null&&P(C,S),typeof S=="object"&&S!==null&&typeof S.then=="function"&&S.then(A,ot)}catch(k){ot(k)}finally{f!==null&&C.types!==null&&(f.types=C.types),_.T=f}},b.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},b.use=function(s){return _.H.use(s)},b.useActionState=function(s,f,C){return _.H.useActionState(s,f,C)},b.useCallback=function(s,f){return _.H.useCallback(s,f)},b.useContext=function(s){return _.H.useContext(s)},b.useDebugValue=function(){},b.useDeferredValue=function(s,f){return _.H.useDeferredValue(s,f)},b.useEffect=function(s,f){return _.H.useEffect(s,f)},b.useEffectEvent=function(s){return _.H.useEffectEvent(s)},b.useId=function(){return _.H.useId()},b.useImperativeHandle=function(s,f,C){return _.H.useImperativeHandle(s,f,C)},b.useInsertionEffect=function(s,f){return _.H.useInsertionEffect(s,f)},b.useLayoutEffect=function(s,f){return _.H.useLayoutEffect(s,f)},b.useMemo=function(s,f){return _.H.useMemo(s,f)},b.useOptimistic=function(s,f){return _.H.useOptimistic(s,f)},b.useReducer=function(s,f,C){return _.H.useReducer(s,f,C)},b.useRef=function(s){return _.H.useRef(s)},b.useState=function(s){return _.H.useState(s)},b.useSyncExternalStore=function(s,f,C){return _.H.useSyncExternalStore(s,f,C)},b.useTransition=function(){return _.H.useTransition()},b.version="19.2.4",b}var st;function At(){return st||(st=1,Ne.exports=yr()),Ne.exports}var I=At();const hr=pr(I),Xn=dr({__proto__:null,default:hr},[I]);var Ie={exports:{}},je={};var ut;function _r(){if(ut)return je;ut=1;var e=At();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,o=e.useRef,i=e.useEffect,u=e.useMemo,a=e.useDebugValue;return je.useSyncExternalStoreWithSelector=function(c,d,l,h,w){var p=o(null);if(p.current===null){var y={hasValue:!1,value:null};p.current=y}else y=p.current;p=u(function(){function T(g){if(!v){if(v=!0,O=g,g=h(g),w!==void 0&&y.hasValue){var A=y.value;if(w(A,g))return m=A}return m=g}if(A=m,r(O,g))return A;var _=h(g);return w!==void 0&&w(A,_)?(O=g,A):(O=g,m=_)}var v=!1,O,m,E=l===void 0?null:l;return[function(){return T(d())},E===null?void 0:function(){return T(E())}]},[d,l,h,w]);var R=n(c,p[0],p[1]);return i(function(){y.hasValue=!0,y.value=R},[R]),a(R),R},je}var ct;function mr(){return ct||(ct=1,Ie.exports=_r()),Ie.exports}var vr=mr();function wr(e){e()}function gr(){let e=null,t=null;return{clear(){e=null,t=null},notify(){wr(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const o=t={callback:r,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!n||e===null||(n=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var at={notify(){},get:()=>[]};function Er(e,t){let r,n=at,o=0,i=!1;function u(R){l();const T=n.subscribe(R);let v=!1;return()=>{v||(v=!0,T(),h())}}function a(){n.notify()}function c(){y.onStateChange&&y.onStateChange()}function d(){return i}function l(){o++,r||(r=e.subscribe(c),n=gr())}function h(){o--,r&&o===0&&(r(),r=void 0,n.clear(),n=at)}function w(){i||(i=!0,l())}function p(){i&&(i=!1,h())}const y={addNestedSub:u,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:d,trySubscribe:w,tryUnsubscribe:p,getListeners:()=>n};return y}var br=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sr=br(),Cr=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Rr=Cr(),Tr=()=>Sr||Rr?I.useLayoutEffect:I.useEffect,Pr=Tr();function ft(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Qn(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!ft(e[r[o]],t[r[o]]))return!1;return!0}var Or=Symbol.for("react-redux-context"),kr=typeof globalThis<"u"?globalThis:{};function Ar(){if(!I.createContext)return{};const e=kr[Or]??=new Map;let t=e.get(I.createContext);return t||(t=I.createContext(null),e.set(I.createContext,t)),t}var V=Ar();function Mr(e){const{children:t,context:r,serverState:n,store:o}=e,i=I.useMemo(()=>{const c=Er(o);return{store:o,subscription:c,getServerState:n?()=>n:void 0}},[o,n]),u=I.useMemo(()=>o.getState(),[o]);Pr(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),u!==o.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,u]);const a=r||V;return I.createElement(a.Provider,{value:i},t)}var Jn=Mr;function Xe(e=V){return function(){return I.useContext(e)}}var Mt=Xe();function xt(e=V){const t=e===V?Mt:Xe(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var xr=xt();function Nr(e=V){const t=e===V?xr:xt(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Zn=Nr(),Ir=(e,t)=>e===t;function jr(e=V){const t=e===V?Mt:Xe(e),r=(n,o={})=>{const{equalityFn:i=Ir}=typeof o=="function"?{equalityFn:o}:o,u=t(),{store:a,subscription:c,getServerState:d}=u;I.useRef(!0);const l=I.useCallback({[n.name](w){return n(w)}}[n.name],[n]),h=vr.useSyncExternalStoreWithSelector(c.addNestedSub,a.getState,d||a.getState,l,i);return I.useDebugValue(h),h};return Object.assign(r,{withTypes:()=>r}),r}var eo=jr();function N(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Dr=typeof Symbol=="function"&&Symbol.observable||"@@observable",lt=Dr,De=()=>Math.random().toString(36).substring(7).split("").join("."),Lr={INIT:`@@redux/INIT${De()}`,REPLACE:`@@redux/REPLACE${De()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${De()}`},de=Lr;function Qe(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Nt(e,t,r){if(typeof e!="function")throw new Error(N(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(N(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(N(1));return r(Nt)(e,t)}let n=e,o=t,i=new Map,u=i,a=0,c=!1;function d(){u===i&&(u=new Map,i.forEach((T,v)=>{u.set(v,T)}))}function l(){if(c)throw new Error(N(3));return o}function h(T){if(typeof T!="function")throw new Error(N(4));if(c)throw new Error(N(5));let v=!0;d();const O=a++;return u.set(O,T),function(){if(v){if(c)throw new Error(N(6));v=!1,d(),u.delete(O),i=null}}}function w(T){if(!Qe(T))throw new Error(N(7));if(typeof T.type>"u")throw new Error(N(8));if(typeof T.type!="string")throw new Error(N(17));if(c)throw new Error(N(9));try{c=!0,o=n(o,T)}finally{c=!1}return(i=u).forEach(O=>{O()}),T}function p(T){if(typeof T!="function")throw new Error(N(10));n=T,w({type:de.REPLACE})}function y(){const T=h;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(N(11));function O(){const E=v;E.next&&E.next(l())}return O(),{unsubscribe:T(O)}},[lt](){return this}}}return w({type:de.INIT}),{dispatch:w,subscribe:h,getState:l,replaceReducer:p,[lt]:y}}function zr(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:de.INIT})>"u")throw new Error(N(12));if(typeof r(void 0,{type:de.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(N(13))})}function $r(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const u=t[i];typeof e[u]=="function"&&(r[u]=e[u])}const n=Object.keys(r);let o;try{zr(r)}catch(i){o=i}return function(u={},a){if(o)throw o;let c=!1;const d={};for(let l=0;l<n.length;l++){const h=n[l],w=r[h],p=u[h],y=w(p,a);if(typeof y>"u")throw a&&a.type,new Error(N(14));d[h]=y,c=c||y!==p}return c=c||n.length!==Object.keys(u).length,c?d:u}}function pe(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Fr(...e){return t=>(r,n)=>{const o=t(r,n);let i=()=>{throw new Error(N(15))};const u={getState:o.getState,dispatch:(c,...d)=>i(c,...d)},a=e.map(c=>c(u));return i=pe(...a)(o.dispatch),{...o,dispatch:i}}}function It(e){return Qe(e)&&"type"in e&&typeof e.type=="string"}var jt=Symbol.for("immer-nothing"),dt=Symbol.for("immer-draftable"),j=Symbol.for("immer-state");function $(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var L=Object,J=L.getPrototypeOf,ye="constructor",be="prototype",Fe="configurable",he="enumerable",fe="writable",te="value",B=e=>!!e&&!!e[j];function F(e){return e?Dt(e)||Ce(e)||!!e[dt]||!!e[ye]?.[dt]||Re(e)||Te(e):!1}var Ur=L[be][ye].toString(),pt=new WeakMap;function Dt(e){if(!e||!Je(e))return!1;const t=J(e);if(t===null||t===L[be])return!0;const r=L.hasOwnProperty.call(t,ye)&&t[ye];if(r===Object)return!0;if(!X(r))return!1;let n=pt.get(r);return n===void 0&&(n=Function.toString.call(r),pt.set(r,n)),n===Ur}function Se(e,t,r=!0){oe(e)===0?(r?Reflect.ownKeys(e):L.keys(e)).forEach(o=>{t(o,e[o],e)}):e.forEach((n,o)=>t(o,n,e))}function oe(e){const t=e[j];return t?t.type_:Ce(e)?1:Re(e)?2:Te(e)?3:0}var yt=(e,t,r=oe(e))=>r===2?e.has(t):L[be].hasOwnProperty.call(e,t),Ue=(e,t,r=oe(e))=>r===2?e.get(t):e[t],_e=(e,t,r,n=oe(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Wr(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ce=Array.isArray,Re=e=>e instanceof Map,Te=e=>e instanceof Set,Je=e=>typeof e=="object",X=e=>typeof e=="function",Le=e=>typeof e=="boolean";function Hr(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var W=e=>e.copy_||e.base_,Ze=e=>e.modified_?e.copy_:e.base_;function We(e,t){if(Re(e))return new Map(e);if(Te(e))return new Set(e);if(Ce(e))return Array[be].slice.call(e);const r=Dt(e);if(t===!0||t==="class_only"&&!r){const n=L.getOwnPropertyDescriptors(e);delete n[j];let o=Reflect.ownKeys(n);for(let i=0;i<o.length;i++){const u=o[i],a=n[u];a[fe]===!1&&(a[fe]=!0,a[Fe]=!0),(a.get||a.set)&&(n[u]={[Fe]:!0,[fe]:!0,[he]:a[he],[te]:e[u]})}return L.create(J(e),n)}else{const n=J(e);if(n!==null&&r)return{...e};const o=L.create(n);return L.assign(o,e)}}function et(e,t=!1){return Pe(e)||B(e)||!F(e)||(oe(e)>1&&L.defineProperties(e,{set:se,add:se,clear:se,delete:se}),L.freeze(e),t&&Se(e,(r,n)=>{et(n,!0)},!1)),e}function Br(){$(2)}var se={[te]:Br};function Pe(e){return e===null||!Je(e)?!0:L.isFrozen(e)}var me="MapSet",He="Patches",ht="ArrayMethods",Lt={};function Y(e){const t=Lt[e];return t||$(0,e),t}var _t=e=>!!Lt[e],re,zt=()=>re,Vr=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:_t(me)?Y(me):void 0,arrayMethodsPlugin_:_t(ht)?Y(ht):void 0});function mt(e,t){t&&(e.patchPlugin_=Y(He),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Be(e){Ve(e),e.drafts_.forEach(qr),e.drafts_=null}function Ve(e){e===re&&(re=e.parent_)}var vt=e=>re=Vr(re,e);function qr(e){const t=e[j];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wt(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[j].modified_&&(Be(t),$(4)),F(e)&&(e=gt(t,e));const{patchPlugin_:o}=t;o&&o.generateReplacementPatches_(r[j].base_,e,t)}else e=gt(t,r);return Yr(t,e,!0),Be(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==jt?e:void 0}function gt(e,t){if(Pe(t))return t;const r=t[j];if(!r)return ve(t,e.handledSet_,e);if(!Oe(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Ut(r,e)}return r.copy_}function Yr(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&et(t,r)}function $t(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Oe=(e,t)=>e.scope_===t,Kr=[];function Ft(e,t,r,n){const o=W(e),i=e.type_;if(n!==void 0&&Ue(o,n,i)===t){_e(o,n,r,i);return}if(!e.draftLocations_){const a=e.draftLocations_=new Map;Se(o,(c,d)=>{if(B(d)){const l=a.get(d)||[];l.push(c),a.set(d,l)}})}const u=e.draftLocations_.get(t)??Kr;for(const a of u)_e(o,a,r,i)}function Gr(e,t,r){e.callbacks_.push(function(o){const i=t;if(!i||!Oe(i,o))return;o.mapSetPlugin_?.fixSetContents(i);const u=Ze(i);Ft(e,i.draft_??i,u,r),Ut(i,o)})}function Ut(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const o=n.getPath(e);o&&n.generatePatches_(e,o,t)}$t(e)}}function Xr(e,t,r){const{scope_:n}=e;if(B(r)){const o=r[j];Oe(o,n)&&o.callbacks_.push(function(){le(e);const u=Ze(o);Ft(e,r,u,t)})}else F(r)&&e.callbacks_.push(function(){const i=W(e);e.type_===3?i.has(r)&&ve(r,n.handledSet_,n):Ue(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&ve(Ue(e.copy_,t,e.type_),n.handledSet_,n)})}function ve(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||B(e)||t.has(e)||!F(e)||Pe(e)||(t.add(e),Se(e,(n,o)=>{if(B(o)){const i=o[j];if(Oe(i,r)){const u=Ze(i);_e(e,n,u,e.type_),$t(i)}}else F(o)&&ve(o,t,r)})),e}function Qr(e,t){const r=Ce(e),n={type_:r?1:0,scope_:t?t.scope_:zt(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=n,i=we;r&&(o=[n],i=ne);const{revoke:u,proxy:a}=Proxy.revocable(o,i);return n.draft_=a,n.revoke_=u,[a,n]}var we={get(e,t){if(t===j)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const o=W(e);if(!yt(o,t,e.type_))return Jr(e,o,t);const i=o[t];if(e.finalized_||!F(i)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&Hr(t))return i;if(i===ze(e.base_,t)){le(e);const u=e.type_===1?+t:t,a=Ye(e.scope_,i,e,u);return e.copy_[u]=a}return i},has(e,t){return t in W(e)},ownKeys(e){return Reflect.ownKeys(W(e))},set(e,t,r){const n=Wt(W(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const o=ze(W(e),t),i=o?.[j];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Wr(r,o)&&(r!==void 0||yt(e.base_,t,e.type_)))return!0;le(e),qe(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Xr(e,t,r)),!0},deleteProperty(e,t){return le(e),ze(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),qe(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=W(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[fe]:!0,[Fe]:e.type_!==1||t!=="length",[he]:n[he],[te]:r[t]}},defineProperty(){$(11)},getPrototypeOf(e){return J(e.base_)},setPrototypeOf(){$(12)}},ne={};for(let e in we){let t=we[e];ne[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}ne.deleteProperty=function(e,t){return ne.set.call(this,e,t,void 0)};ne.set=function(e,t,r){return we.set.call(this,e[0],t,r,e[0])};function ze(e,t){const r=e[j];return(r?W(r):e)[t]}function Jr(e,t,r){const n=Wt(t,r);return n?te in n?n[te]:n.get?.call(e.draft_):void 0}function Wt(e,t){if(!(t in e))return;let r=J(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=J(r)}}function qe(e){e.modified_||(e.modified_=!0,e.parent_&&qe(e.parent_))}function le(e){e.copy_||(e.assigned_=new Map,e.copy_=We(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Zr=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,n)=>{if(X(t)&&!X(r)){const i=r;r=t;const u=this;return function(c=i,...d){return u.produce(c,l=>r.call(this,l,...d))}}X(r)||$(6),n!==void 0&&!X(n)&&$(7);let o;if(F(t)){const i=vt(this),u=Ye(i,t,void 0);let a=!0;try{o=r(u),a=!1}finally{a?Be(i):Ve(i)}return mt(i,n),wt(o,i)}else if(!t||!Je(t)){if(o=r(t),o===void 0&&(o=t),o===jt&&(o=void 0),this.autoFreeze_&&et(o,!0),n){const i=[],u=[];Y(He).generateReplacementPatches_(t,o,{patches_:i,inversePatches_:u}),n(i,u)}return o}else $(1,t)},this.produceWithPatches=(t,r)=>{if(X(t))return(u,...a)=>this.produceWithPatches(u,c=>t(c,...a));let n,o;return[this.produce(t,r,(u,a)=>{n=u,o=a}),n,o]},Le(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Le(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Le(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){F(e)||$(8),B(e)&&(e=en(e));const t=vt(this),r=Ye(t,e,void 0);return r[j].isManual_=!0,Ve(t),r}finishDraft(e,t){const r=e&&e[j];(!r||!r.isManual_)&&$(9);const{scope_:n}=r;return mt(n,t),wt(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const o=t[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(t=t.slice(r+1));const n=Y(He).applyPatches_;return B(e)?n(e,t):this.produce(e,o=>n(o,t))}};function Ye(e,t,r,n){const[o,i]=Re(t)?Y(me).proxyMap_(t,r):Te(t)?Y(me).proxySet_(t,r):Qr(t,r);return(r?.scope_??zt()).drafts_.push(o),i.callbacks_=r?.callbacks_??[],i.key_=n,r&&n!==void 0?Gr(r,i,n):i.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:d}=c;i.modified_&&d&&d.generatePatches_(i,[],c)}),o}function en(e){return B(e)||$(10,e),Ht(e)}function Ht(e){if(!F(e)||Pe(e))return e;const t=e[j];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=We(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=We(e,!0);return Se(r,(o,i)=>{_e(r,o,Ht(i))},n),t&&(t.finalized_=!1),r}var tn=new Zr,Bt=tn.produce;function rn(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function nn(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function on(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Et=e=>Array.isArray(e)?e:[e];function sn(e){const t=Array.isArray(e[0])?e[0]:e;return on(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function un(e,t){const r=[],{length:n}=e;for(let o=0;o<n;o++)r.push(e[o].apply(null,t));return r}var cn=class{constructor(e){this.value=e}deref(){return this.value}},an=typeof WeakRef<"u"?WeakRef:cn,fn=0,bt=1;function ue(){return{s:fn,v:void 0,o:null,p:null}}function Vt(e,t={}){let r=ue();const{resultEqualityCheck:n}=t;let o,i=0;function u(){let a=r;const{length:c}=arguments;for(let h=0,w=c;h<w;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let y=a.o;y===null&&(a.o=y=new WeakMap);const R=y.get(p);R===void 0?(a=ue(),y.set(p,a)):a=R}else{let y=a.p;y===null&&(a.p=y=new Map);const R=y.get(p);R===void 0?(a=ue(),y.set(p,a)):a=R}}const d=a;let l;if(a.s===bt)l=a.v;else if(l=e.apply(null,arguments),i++,n){const h=o?.deref?.()??o;h!=null&&n(h,l)&&(l=h,i!==0&&i--),o=typeof l=="object"&&l!==null||typeof l=="function"?new an(l):l}return d.s=bt,d.v=l,l}return u.clearCache=()=>{r=ue(),u.resetResultsCount()},u.resultsCount=()=>i,u.resetResultsCount=()=>{i=0},u}function ln(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...o)=>{let i=0,u=0,a,c={},d=o.pop();typeof d=="object"&&(c=d,d=o.pop()),rn(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const l={...r,...c},{memoize:h,memoizeOptions:w=[],argsMemoize:p=Vt,argsMemoizeOptions:y=[]}=l,R=Et(w),T=Et(y),v=sn(o),O=h(function(){return i++,d.apply(null,arguments)},...R),m=p(function(){u++;const g=un(v,arguments);return a=O.apply(null,g),a},...T);return Object.assign(m,{resultFunc:d,memoizedResultFunc:O,dependencies:v,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>a,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var dn=ln(Vt),pn=Object.assign((e,t=dn)=>{nn(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((u,a,c)=>(u[r[c]]=a,u),{}))},{withTypes:()=>pn});function qt(e){return({dispatch:r,getState:n})=>o=>i=>typeof i=="function"?i(r,n,e):o(i)}var yn=qt(),hn=qt,_n=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pe:pe.apply(null,arguments)},mn=e=>e&&typeof e.match=="function";function H(e,t){function r(...n){if(t){let o=t(...n);if(!o)throw new Error(z(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>It(n)&&n.type===e,r}var Yt=class ee extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ee.prototype)}static get[Symbol.species](){return ee}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ee(...t[0].concat(this)):new ee(...t.concat(this))}};function St(e){return F(e)?Bt(e,()=>{}):e}function ce(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function vn(e){return typeof e=="boolean"}var wn=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:o=!0,actionCreatorCheck:i=!0}=t??{};let u=new Yt;return r&&(vn(r)?u.push(yn):u.push(hn(r.extraArgument))),u},Kt="RTK_autoBatch",to=()=>e=>({payload:e,meta:{[Kt]:!0}}),Ct=e=>t=>{setTimeout(t,e)},gn=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let o=!0,i=!1,u=!1;const a=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ct(10):e.type==="callback"?e.queueNotification:Ct(e.timeout),d=()=>{u=!1,i&&(i=!1,a.forEach(l=>l()))};return Object.assign({},n,{subscribe(l){const h=()=>o&&l(),w=n.subscribe(h);return a.add(l),()=>{w(),a.delete(l)}},dispatch(l){try{return o=!l?.meta?.[Kt],i=!o,i&&(u||(u=!0,c(d))),n.dispatch(l)}finally{o=!0}}})},En=e=>function(r){const{autoBatch:n=!0}=r??{};let o=new Yt(e);return n&&o.push(gn(typeof n=="object"?n:void 0)),o};function ro(e){const t=wn(),{reducer:r=void 0,middleware:n,devTools:o=!0,duplicateMiddlewareCheck:i=!0,preloadedState:u=void 0,enhancers:a=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Qe(r))c=$r(r);else throw new Error(z(1));let d;typeof n=="function"?d=n(t):d=t();let l=pe;o&&(l=_n({trace:!1,...typeof o=="object"&&o}));const h=Fr(...d),w=En(h);let p=typeof a=="function"?a(w):w();const y=l(...p);return Nt(c,u,y)}function Gt(e){const t={},r=[];let n;const o={addCase(i,u){const a=typeof i=="string"?i:i.type;if(!a)throw new Error(z(28));if(a in t)throw new Error(z(29));return t[a]=u,o},addAsyncThunk(i,u){return u.pending&&(t[i.pending.type]=u.pending),u.rejected&&(t[i.rejected.type]=u.rejected),u.fulfilled&&(t[i.fulfilled.type]=u.fulfilled),u.settled&&r.push({matcher:i.settled,reducer:u.settled}),o},addMatcher(i,u){return r.push({matcher:i,reducer:u}),o},addDefaultCase(i){return n=i,o}};return e(o),[t,r,n]}function bn(e){return typeof e=="function"}function Sn(e,t){let[r,n,o]=Gt(t),i;if(bn(e))i=()=>St(e());else{const a=St(e);i=()=>a}function u(a=i(),c){let d=[r[c.type],...n.filter(({matcher:l})=>l(c)).map(({reducer:l})=>l)];return d.filter(l=>!!l).length===0&&(d=[o]),d.reduce((l,h)=>{if(h)if(B(l)){const p=h(l,c);return p===void 0?l:p}else{if(F(l))return Bt(l,w=>h(w,c));{const w=h(l,c);if(w===void 0){if(l===null)return l;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return l},a)}return u.getInitialState=i,u}var Cn=(e,t)=>mn(e)?e.match(t):e(t);function Rn(...e){return t=>e.some(r=>Cn(r,t))}var Tn="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Xt=(e=21)=>{let t="",r=e;for(;r--;)t+=Tn[Math.random()*64|0];return t},Pn=["name","message","stack","code"],$e=class{constructor(e,t){this.payload=e,this.meta=t}_type},Rt=class{constructor(e,t){this.payload=e,this.meta=t}_type},On=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of Pn)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},Tt="External signal was aborted",no=(()=>{function e(t,r,n){const o=H(t+"/fulfilled",(c,d,l,h)=>({payload:c,meta:{...h||{},arg:l,requestId:d,requestStatus:"fulfilled"}})),i=H(t+"/pending",(c,d,l)=>({payload:void 0,meta:{...l||{},arg:d,requestId:c,requestStatus:"pending"}})),u=H(t+"/rejected",(c,d,l,h,w)=>({payload:h,error:(n&&n.serializeError||On)(c||"Rejected"),meta:{...w||{},arg:l,requestId:d,rejectedWithValue:!!h,requestStatus:"rejected",aborted:c?.name==="AbortError",condition:c?.name==="ConditionError"}}));function a(c,{signal:d}={}){return(l,h,w)=>{const p=n?.idGenerator?n.idGenerator(c):Xt(),y=new AbortController;let R,T;function v(m){T=m,y.abort()}d&&(d.aborted?v(Tt):d.addEventListener("abort",()=>v(Tt),{once:!0}));const O=(async function(){let m;try{let g=n?.condition?.(c,{getState:h,extra:w});if(An(g)&&(g=await g),g===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const A=new Promise((_,x)=>{R=()=>{x({name:"AbortError",message:T||"Aborted"})},y.signal.addEventListener("abort",R,{once:!0})});l(i(p,c,n?.getPendingMeta?.({requestId:p,arg:c},{getState:h,extra:w}))),m=await Promise.race([A,Promise.resolve(r(c,{dispatch:l,getState:h,extra:w,requestId:p,signal:y.signal,abort:v,rejectWithValue:(_,x)=>new $e(_,x),fulfillWithValue:(_,x)=>new Rt(_,x)})).then(_=>{if(_ instanceof $e)throw _;return _ instanceof Rt?o(_.payload,p,c,_.meta):o(_,p,c)})])}catch(g){m=g instanceof $e?u(null,p,c,g.payload,g.meta):u(g,p,c)}finally{R&&y.signal.removeEventListener("abort",R)}return n&&!n.dispatchConditionRejection&&u.match(m)&&m.meta.condition||l(m),m})();return Object.assign(O,{abort:v,requestId:p,arg:c,unwrap(){return O.then(kn)}})}}return Object.assign(a,{pending:i,rejected:u,fulfilled:o,settled:Rn(u,o),typePrefix:t})}return e.withTypes=()=>e,e})();function kn(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function An(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Mn=Symbol.for("rtk-slice-createasyncthunk");function xn(e,t){return`${e}/${t}`}function Nn({creators:e}={}){const t=e?.asyncThunk?.[Mn];return function(n){const{name:o,reducerPath:i=o}=n;if(!o)throw new Error(z(11));const u=(typeof n.reducers=="function"?n.reducers(jn()):n.reducers)||{},a=Object.keys(u),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(m,E){const g=typeof m=="string"?m:m.type;if(!g)throw new Error(z(12));if(g in c.sliceCaseReducersByType)throw new Error(z(13));return c.sliceCaseReducersByType[g]=E,d},addMatcher(m,E){return c.sliceMatchers.push({matcher:m,reducer:E}),d},exposeAction(m,E){return c.actionCreators[m]=E,d},exposeCaseReducer(m,E){return c.sliceCaseReducersByName[m]=E,d}};a.forEach(m=>{const E=u[m],g={reducerName:m,type:xn(o,m),createNotation:typeof n.reducers=="function"};Ln(E)?$n(g,E,d,t):Dn(g,E,d)});function l(){const[m={},E=[],g=void 0]=typeof n.extraReducers=="function"?Gt(n.extraReducers):[n.extraReducers],A={...m,...c.sliceCaseReducersByType};return Sn(n.initialState,_=>{for(let x in A)_.addCase(x,A[x]);for(let x of c.sliceMatchers)_.addMatcher(x.matcher,x.reducer);for(let x of E)_.addMatcher(x.matcher,x.reducer);g&&_.addDefaultCase(g)})}const h=m=>m,w=new Map,p=new WeakMap;let y;function R(m,E){return y||(y=l()),y(m,E)}function T(){return y||(y=l()),y.getInitialState()}function v(m,E=!1){function g(_){let x=_[m];return typeof x>"u"&&E&&(x=ce(p,g,T)),x}function A(_=h){const x=ce(w,E,()=>new WeakMap);return ce(x,_,()=>{const K={};for(const[Me,Z]of Object.entries(n.selectors??{}))K[Me]=In(Z,_,()=>ce(p,_,T),E);return K})}return{reducerPath:m,getSelectors:A,get selectors(){return A(g)},selectSlice:g}}const O={name:o,reducer:R,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:T,...v(i),injectInto(m,{reducerPath:E,...g}={}){const A=E??i;return m.inject({reducerPath:A,reducer:R},g),{...O,...v(A,!0)}}};return O}}function In(e,t,r,n){function o(i,...u){let a=t(i);return typeof a>"u"&&n&&(a=r()),e(a,...u)}return o.unwrapped=e,o}var oo=Nn();function jn(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Dn({type:e,reducerName:t,createNotation:r},n,o){let i,u;if("reducer"in n){if(r&&!zn(n))throw new Error(z(17));i=n.reducer,u=n.prepare}else i=n;o.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,u?H(e,u):H(e))}function Ln(e){return e._reducerDefinitionType==="asyncThunk"}function zn(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $n({type:e,reducerName:t},r,n,o){if(!o)throw new Error(z(18));const{payloadCreator:i,fulfilled:u,pending:a,rejected:c,settled:d,options:l}=r,h=o(e,i,l);n.exposeAction(t,h),u&&n.addCase(h.fulfilled,u),a&&n.addCase(h.pending,a),c&&n.addCase(h.rejected,c),d&&n.addMatcher(h.settled,d),n.exposeCaseReducer(t,{fulfilled:u||ae,pending:a||ae,rejected:c||ae,settled:d||ae})}function ae(){}var Fn="task",Qt="listener",Jt="completed",tt="cancelled",Un=`task-${tt}`,Wn=`task-${Jt}`,Ke=`${Qt}-${tt}`,Hn=`${Qt}-${Jt}`,ke=class{constructor(e){this.code=e,this.message=`${Fn} ${tt} (reason: ${e})`}name="TaskAbortError";message},rt=(e,t)=>{if(typeof e!="function")throw new TypeError(z(32))},ge=()=>{},Zt=(e,t=ge)=>(e.catch(t),e),er=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),q=e=>{if(e.aborted)throw new ke(e.reason)};function tr(e,t){let r=ge;return new Promise((n,o)=>{const i=()=>o(new ke(e.reason));if(e.aborted){i();return}r=er(e,i),t.finally(()=>r()).then(n,o)}).finally(()=>{r=ge})}var Bn=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ke?"cancelled":"rejected",error:r}}finally{t?.()}},Ee=e=>t=>Zt(tr(e,t).then(r=>(q(e),r))),rr=e=>{const t=Ee(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Q}=Object,Pt={},Ae="listenerMiddleware",Vn=(e,t)=>{const r=n=>er(e,()=>n.abort(e.reason));return(n,o)=>{rt(n);const i=new AbortController;r(i);const u=Bn(async()=>{q(e),q(i.signal);const a=await n({pause:Ee(i.signal),delay:rr(i.signal),signal:i.signal});return q(i.signal),a},()=>i.abort(Wn));return o?.autoJoin&&t.push(u.catch(ge)),{result:Ee(e)(u),cancel(){i.abort(Un)}}}},qn=(e,t)=>{const r=async(n,o)=>{q(t);let i=()=>{};const a=[new Promise((c,d)=>{let l=e({predicate:n,effect:(h,w)=>{w.unsubscribe(),c([h,w.getState(),w.getOriginalState()])}});i=()=>{l(),d()}})];o!=null&&a.push(new Promise(c=>setTimeout(c,o,null)));try{const c=await tr(t,Promise.race(a));return q(t),c}finally{i()}};return(n,o)=>Zt(r(n,o))},nr=e=>{let{type:t,actionCreator:r,matcher:n,predicate:o,effect:i}=e;if(t)o=H(t).match;else if(r)t=r.type,o=r.match;else if(n)o=n;else if(!o)throw new Error(z(21));return rt(i),{predicate:o,type:t,effect:i}},or=Q(e=>{const{type:t,predicate:r,effect:n}=nr(e);return{id:Xt(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(z(22))}}},{withTypes:()=>or}),Ot=(e,t)=>{const{type:r,effect:n,predicate:o}=nr(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===o)&&i.effect===n)},Ge=e=>{e.pending.forEach(t=>{t.abort(Ke)})},Yn=(e,t)=>()=>{for(const r of t.keys())Ge(r);e.clear()},kt=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},ir=Q(H(`${Ae}/add`),{withTypes:()=>ir}),Kn=H(`${Ae}/removeAll`),sr=Q(H(`${Ae}/remove`),{withTypes:()=>sr}),Gn=(...e)=>{console.error(`${Ae}/error`,...e)},io=(e={})=>{const t=new Map,r=new Map,n=p=>{const y=r.get(p)??0;r.set(p,y+1)},o=p=>{const y=r.get(p)??1;y===1?r.delete(p):r.set(p,y-1)},{extra:i,onError:u=Gn}=e;rt(u);const a=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),y=>{p.unsubscribe(),y?.cancelActive&&Ge(p)}),c=p=>{const y=Ot(t,p)??or(p);return a(y)};Q(c,{withTypes:()=>c});const d=p=>{const y=Ot(t,p);return y&&(y.unsubscribe(),p.cancelActive&&Ge(y)),!!y};Q(d,{withTypes:()=>d});const l=async(p,y,R,T)=>{const v=new AbortController,O=qn(c,v.signal),m=[];try{p.pending.add(v),n(p),await Promise.resolve(p.effect(y,Q({},R,{getOriginalState:T,condition:(E,g)=>O(E,g).then(Boolean),take:O,delay:rr(v.signal),pause:Ee(v.signal),extra:i,signal:v.signal,fork:Vn(v.signal,m),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((E,g,A)=>{E!==v&&(E.abort(Ke),A.delete(E))})},cancel:()=>{v.abort(Ke),p.pending.delete(v)},throwIfCancelled:()=>{q(v.signal)}})))}catch(E){E instanceof ke||kt(u,E,{raisedBy:"effect"})}finally{await Promise.all(m),v.abort(Hn),o(p),p.pending.delete(v)}},h=Yn(t,r);return{middleware:p=>y=>R=>{if(!It(R))return y(R);if(ir.match(R))return c(R.payload);if(Kn.match(R)){h();return}if(sr.match(R))return d(R.payload);let T=p.getState();const v=()=>{if(T===Pt)throw new Error(z(23));return T};let O;try{if(O=y(R),t.size>0){const m=p.getState(),E=Array.from(t.values());for(const g of E){let A=!1;try{A=g.predicate(R,m,T)}catch(_){A=!1,kt(u,_,{raisedBy:"predicate"})}A&&l(g,R,p,v)}}}finally{T=Pt}return O},startListening:c,stopListening:d,clearListeners:h}};function z(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}export{Jn as P,Xn as R,I as a,oo as b,dn as c,en as d,H as e,io as f,pr as g,ro as h,$r as i,gn as j,no as k,hr as l,eo as m,to as p,At as r,Qn as s,Zn as u};
